name: TagBot

on:
  issue_comment:
    types: [created]
  workflow_dispatch:

permissions:
  contents: write

jobs:
  TagBot:
    # TagBot triggers itself by commenting; only run for that actor or manual dispatch.
    if: github.event_name == 'workflow_dispatch' || github.actor == 'JuliaTagBot'
    runs-on: ubuntu-latest

    steps:
      - uses: JuliaRegistries/TagBot@v1
        with:
          # Recommended: create a PAT secret named TAGBOT_TOKEN (classic token with repo + workflow scopes)
          # so that tags created by TagBot can trigger other workflows (like Documenter on tags).
          token: ${{ secrets.TAGBOT_TOKEN }}


